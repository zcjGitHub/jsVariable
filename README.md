# jsVariable
js变量（基本类型，引用类型）复制和传参机制
## 1.变量值的类型分类
js变量包含两种数据类型的值，分别是基本类型值和引用类型值，接下来讨论将按这两种类型展开。js中的五种基本数据类型Undefined、Null、Boolean、Number、String是按值访问的，其值是直接保存在变量中。引用类型的值是保存在内存中的，由于js不能直接访问内存，因此实际是操作对象的引用，访问引用类型的值是按引用访问的。系统是根据它的原型链来识别是否是引用类型。所有引用类型的值都是Object的实例。用instanceof操作符检测时返回true。而检测基本类型则返回false，因为基本类型不是对象。
## 2.变量的复制
### 基本类型值
```javascript
  var a = 1;
  var b = a;
```
基本类型值直接存在栈中，可以通过变量名直接操作。当复制时(如上)，此时会在栈中开辟一个独立空间用于存储变量b，变量b的值即是a的值，此后，变量b与a的值没有任何联系。
### 引用类型值
```javascript
  var obj1 = {a:1,b:2};
  var obj2 = obj1;
```
引用类型值是放在堆内存中的，而栈中存放的是引用类型的指针，引用类型的访问就是通过栈中的指针找到堆内存中的对象来实现的。引用类型的复制其实质是复制的栈中的指针。如上代码所示，obj1中存在的值是{a:1,b:2}在堆内存中的地址，而当执行下面一条复制语句时就像基本数据类型的值的复制机制一样，复制的是栈中的值，由此可知obj2中的值是obj1栈中存放的指针，也就是说obj2栈中的指针和obj1一样是指向堆内存的{a:1,b:2}。当我们通过obj2来改变对象的值时，obj1的值也会改变。如下：
```javascript
  obj2.c = 3;
  obj2.a = 4;
  console.log(obj1.c) //3
  console.log(obj1.a) //4
```
##### 注意：
```javascript
  var obj = {name:'joy',age:23}
```
特别需要注意的是对象的复制是将一个对象的指针复制到栈中。上面代码{name:'joy',age:23}是放在堆内存中的，复制给obj的值实质是{name:'joy',age:23}在堆内存中存放的地址。
## 3.参数的传递
函数的传递实质是值的传递，传递的是变量对应栈中的值，因此，对于基本类型，传的就是其变量的值，对于引用类型，传递给实参的是存放在栈中的地址。实参给形参赋值的过程和变量的复制过程一样，不再累述。
